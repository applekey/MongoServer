{"ts":1352951901187,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"/**\n * Module dependencies.\n */\n\nvar express = require('express'),\n    routes = require('./routes'),\n    user = require('./routes/user'),\n    http = require('http'),\n    path = require('path');\nvar app = express();\nvar DataProvider = require('./MongoProvider').DataProvider;\n//var PersonService = require('./Person/PersonService').PersonService;\n//var DocumentService = require('./Document/DocumentService').DocumentService;\n\napp.configure(function() {\n    app.set('port', process.env.PORT || 3000);\n    app.set('views', __dirname + '/views');\n    app.set('view engine', 'jade');\n    app.use(express.favicon());\n    app.use(express.logger('dev'));\n    app.use(express.bodyParser());\n    app.use(express.methodOverride());\n    app.use(app.router);\n    app.use(express.static(path.join(__dirname, 'public')));\n});\n\napp.configure('development', function() {\n    app.use(express.errorHandler());\n});\n\nvar dataProvider = new DataProvider('alex.mongohq.com', 10041);\n//var personService = new PersonService();\n//var documentService = new DocumentService();\n\nvar collectionId = String('vcTest');\n\nvar doc = {\n    ImageId: 'ab',\n    ImageLink: 'http://i.imgur.com/YmeSA.jpg'\n};\n\napp.get('/save', function(req, res) {\n    dataProvider.save(collectionId, doc, function(a) {\n        if (a) res.send('bad');\n        else res.send('good');\n    })\n});\n\napp.get('/getall', function(req, res) {\n    var item = req.body;\n    dataProvider.findAll(collectionId, function(error, result) {\n        if (!error) res.send(result);\n        else res.send('error');\n    });\n});\n\napp.get('/deleteall', function(req, res) {\n    dataProvider.deleteall(collectionId, function(error, response) {\n        if (error) res.send('delete all failed');\n        else res.send(response);\n    });\n});\n\n\napp.post('/echo', function(request, res) {\n    var requestObject = request.body;\n    var contact = eval(requestObject);\n    dataProvider.save(collectionId, contact, function(a) {\n        if (a) res.send('bad');\n        else res.send('good');\n    })\n});\n\n///////////////////////////////////////////////////// Create User \n\n//app.get('/AddUser', function(req, res) {\n//    //var requestObject = req.body;\n//    //var contact = eval(requestObject);\n//    \n//    var loginInformation = {\n//        UserName: 'Username',\n//        Password: 'Password',\n//        Links: 'links'\n//    }\n//    \n//    \n//    personService.CreateLogin(loginInformation,function(a) {\n//        if (a) res.send('bad');\n//        else res.send('good');\n//    })\n//});\n//\n//app.get('/GetUser', function(req, res) {\n//    //var requestObject = req.body;\n//    //var contact = eval(requestObject);\n//    \n//    var loginInformation = {\n//        UserName: 'Username',\n//        Password: 'Password'\n//    }\n//    \n//    personService.Login(loginInformation,function(a,user) {\n//        if (a) res.send('bad');\n//        else res.send(user);\n//    })\n//});\n\n\n/////////////////////////////////////CreateDocument\n\n//app.get('/SaveDocument', function(req, res) {\n//    //var requestObject = req.body;\n//    //var contact = eval(requestObject);\n//    \n//   var DummyDocument = {\n//       Id: 123,\n//       LowResImageLink: 'LowResImageLink',\n//       HighResImageLink: 'HighResImageLink',\n//       DateInserted: new Date()\n//   };\n//   \n//   \n//    documentService.CreateDocument(DummyDocument,function(error) {\n//        if (error) res.send('was not able to create document');\n//        else res.send('succesfully created document');\n//    })\n//});\n//\n//app.get('/GetDocument', function(req, res) {\n//    //var requestObject = req.body;\n//    //var contact = eval(requestObject);\n//    \n//   var documentId = 123; \n//   \n//   \n//    documentService.RetrieveDocument(documentId,function(error, document) {\n//        if (error) res.send('was not able to get document');\n//        else res.send(document);\n//    })\n//});\n\n\n\n/////////////////////////////////////////////////////////////\n\nhttp.createServer(app).listen(app.get('port'), function() {\n    console.log(\"Express server listening on port \" + app.get('port'));\n});\n"]],"start1":0,"start2":0,"length1":0,"length2":4046}]],"length":4046}
{"contributors":[],"silentsave":false,"ts":1352952026221,"patch":[[{"diffs":[[0,"10041);\n"],[-1,"//"],[0,"var pers"]],"start1":953,"start2":953,"length1":18,"length2":16},{"diffs":[[0,"vice();\n"],[-1,"//"],[0,"var docu"]],"start1":994,"start2":994,"length1":18,"length2":16}]],"length":4042,"saved":false}
{"ts":1352952085046,"patch":[[{"diffs":[[0,"ovider;\n"],[-1,"//"],[0,"var Pers"]],"start1":267,"start2":267,"length1":18,"length2":16},{"diffs":[[0,"ervice;\n"],[-1,"//"],[0,"var Docu"]],"start1":336,"start2":336,"length1":18,"length2":16},{"diffs":[[0," User \n\n"],[-1,"//"],[0,"app.get("]],"start1":2067,"start2":2067,"length1":18,"length2":16},{"diffs":[[0,"ion(req, res) {\n"],[-1,"//"],[0,"    //var reques"]],"start1":2100,"start2":2100,"length1":34,"length2":32},{"diffs":[[0,"ect = req.body;\n"],[-1,"//"],[0,"    //var contac"]],"start1":2136,"start2":2136,"length1":34,"length2":32},{"diffs":[[0,"estObject);\n"],[-1,"//"],[0,"    \n"],[-1,"//"],[0,"    var logi"]],"start1":2181,"start2":2181,"length1":33,"length2":29},{"diffs":[[0,"Information = {\n"],[-1,"//"],[0,"        UserName"]],"start1":2211,"start2":2211,"length1":34,"length2":32},{"diffs":[[0,"me: 'Username',\n"],[-1,"//"],[0,"        Password"]],"start1":2241,"start2":2241,"length1":34,"length2":32},{"diffs":[[0,"sword',\n"],[-1,"//"],[0,"        "]],"start1":2279,"start2":2279,"length1":18,"length2":16},{"diffs":[[0,"ks'\n"],[-1,"//"],[0,"    }\n"],[-1,"//"],[0,"    \n"],[-1,"//"],[0,"    \n"],[-1,"//"],[0,"    "]],"start1":2306,"start2":2306,"length1":32,"length2":24},{"diffs":[[0,"nction(a) {\n"],[-1,"//"],[0,"        if ("]],"start1":2375,"start2":2375,"length1":26,"length2":24},{"diffs":[[0,"es.send('bad');\n"],[-1,"//"],[0,"        else res"]],"start1":2403,"start2":2403,"length1":34,"length2":32},{"diffs":[[0,"good');\n"],[-1,"//"],[0,"    })\n"],[-1,"//"],[0,"});\n"],[-1,"//\n//"],[1,"\n"],[0,"app.get("]],"start1":2442,"start2":2442,"length1":36,"length2":28},{"diffs":[[0,"ion(req, res) {\n"],[-1,"//"],[0,"    //var reques"]],"start1":2487,"start2":2487,"length1":34,"length2":32},{"diffs":[[0,"ect = req.body;\n"],[-1,"//"],[0,"    //var contac"]],"start1":2523,"start2":2523,"length1":34,"length2":32},{"diffs":[[0,"bject);\n"],[-1,"//"],[0,"    \n"],[-1,"//"],[0,"    var "]],"start1":2572,"start2":2572,"length1":25,"length2":21},{"diffs":[[0,"rmation = {\n"],[-1,"//"],[0,"        User"]],"start1":2602,"start2":2602,"length1":26,"length2":24},{"diffs":[[0,"rname',\n"],[-1,"//"],[0,"        "]],"start1":2636,"start2":2636,"length1":18,"length2":16},{"diffs":[[0,"rd'\n"],[-1,"//"],[0,"    }\n"],[-1,"//"],[0,"    \n"],[-1,"//"],[0,"    "]],"start1":2669,"start2":2669,"length1":25,"length2":19},{"diffs":[[0,"n(a,user) {\n"],[-1,"//"],[0,"        if ("]],"start1":2732,"start2":2732,"length1":26,"length2":24},{"diffs":[[0,"end('bad');\n"],[-1,"//"],[0,"        else"]],"start1":2764,"start2":2764,"length1":26,"length2":24},{"diffs":[[0,"(user);\n"],[-1,"//"],[0,"    })\n"],[-1,"//"],[0,"});\n\n\n//"]],"start1":2797,"start2":2797,"length1":27,"length2":23},{"diffs":[[0,"cument\n\n"],[-1,"//"],[0,"app.get("]],"start1":2863,"start2":2863,"length1":18,"length2":16},{"diffs":[[0,"ion(req, res) {\n"],[-1,"//"],[0,"    //var reques"]],"start1":2901,"start2":2901,"length1":34,"length2":32},{"diffs":[[0,"ect = req.body;\n"],[-1,"//"],[0,"    //var contac"]],"start1":2937,"start2":2937,"length1":34,"length2":32},{"diffs":[[0,"estObject);\n"],[-1,"//"],[0,"    \n"],[-1,"//"],[0,"   var Dummy"]],"start1":2982,"start2":2982,"length1":33,"length2":29},{"diffs":[[0,"ent = {\n"],[-1,"//"],[0,"       I"]],"start1":3016,"start2":3016,"length1":18,"length2":16},{"diffs":[[0,"d: 123,\n"],[-1,"//"],[0,"       L"]],"start1":3032,"start2":3032,"length1":18,"length2":16},{"diffs":[[0,"ImageLink',\n"],[-1,"//"],[0,"       HighR"]],"start1":3071,"start2":3071,"length1":26,"length2":24},{"diffs":[[0,"eLink',\n"],[-1,"//"],[0,"       D"]],"start1":3120,"start2":3120,"length1":18,"length2":16},{"diffs":[[0,"e()\n"],[-1,"//"],[0,"   };\n"],[-1,"//"],[0,"   \n"],[-1,"//"],[0,"   \n"],[-1,"//"],[0,"    "]],"start1":3156,"start2":3156,"length1":30,"length2":22},{"diffs":[[0,"on(error) {\n"],[-1,"//"],[0,"        if ("]],"start1":3229,"start2":3229,"length1":26,"length2":24},{"diffs":[[0,"ate document');\n"],[-1,"//"],[0,"        else res"]],"start1":3289,"start2":3289,"length1":34,"length2":32},{"diffs":[[0,"');\n"],[-1,"//"],[0,"    })\n"],[-1,"//"],[0,"});\n"],[-1,"//\n//"],[1,"\n"],[0,"app."]],"start1":3356,"start2":3356,"length1":28,"length2":20},{"diffs":[[0,"req, res) {\n"],[-1,"//"],[0,"    //var re"]],"start1":3405,"start2":3405,"length1":26,"length2":24},{"diffs":[[0,"q.body;\n"],[-1,"//"],[0,"    //va"]],"start1":3445,"start2":3445,"length1":18,"length2":16},{"diffs":[[0,"t);\n"],[-1,"//"],[0,"    \n"],[-1,"//"],[0,"   v"]],"start1":3490,"start2":3490,"length1":17,"length2":13},{"diffs":[[0,"3; \n"],[-1,"//"],[0,"   \n"],[-1,"//"],[0,"   \n"],[-1,"//"],[0,"    "]],"start1":3521,"start2":3521,"length1":22,"length2":16},{"diffs":[[0,"ment) {\n"],[-1,"// "],[0,"       i"]],"start1":3601,"start2":3601,"length1":19,"length2":16},{"diffs":[[0,"ment');\n"],[-1,"// "],[0,"       e"]],"start1":3661,"start2":3661,"length1":19,"length2":16},{"diffs":[[0,"t);\n"],[-1,"// "],[0,"   })\n"],[-1,"//"],[0,"});\n"]],"start1":3697,"start2":3697,"length1":19,"length2":14}]],"length":3913,"saved":false}
{"ts":1352952086956,"patch":[[{"diffs":[[0,"requestObject);\n"],[-1,"    "],[0,"\n"],[1,""],[0,"    var loginInf"]],"start1":2177,"start2":2177,"length1":37,"length2":33},{"diffs":[[0,"'\n    }\n"],[-1,"    \n    "],[1,"\n"],[0,"\n    per"]],"start1":2304,"start2":2304,"length1":25,"length2":17},{"diffs":[[0,"oginInformation,"],[1," "],[0,"function(a) {\n  "]],"start1":2345,"start2":2345,"length1":32,"length2":33},{"diffs":[[0,"bject);\n"],[-1,"    "],[0,"\n"],[1,""],[0,"    var "]],"start1":2561,"start2":2561,"length1":21,"length2":17},{"diffs":[[0,"'\n    }\n"],[-1,"    "],[0,"\n    per"]],"start1":2656,"start2":2656,"length1":20,"length2":16},{"diffs":[[0,"rmation,"],[1," "],[0,"function"]],"start1":2698,"start2":2698,"length1":16,"length2":17},{"diffs":[[0,"ction(a,"],[1," "],[0,"user) {\n"]],"start1":2710,"start2":2710,"length1":16,"length2":17},{"diffs":[[0,"estObject);\n"],[-1,"    "],[0,"\n"],[1," "],[0,"   var Dummy"]],"start1":2965,"start2":2965,"length1":29,"length2":26},{"diffs":[[0,"\n       "],[1," "],[0,"Id: 123,"]],"start1":3003,"start2":3003,"length1":16,"length2":17},{"diffs":[[0,"d: 123,\n"],[1," "],[0,"       L"]],"start1":3013,"start2":3013,"length1":16,"length2":17},{"diffs":[[0,"\n       "],[1," "],[0,"HighResI"]],"start1":3064,"start2":3064,"length1":16,"length2":17},{"diffs":[[0,"ImageLink',\n"],[1," "],[0,"       DateI"]],"start1":3099,"start2":3099,"length1":24,"length2":25},{"diffs":[[0,"\n   "],[1," "],[0,"};\n"],[-1,"   \n   "],[1,"\n"],[0,"\n   "]],"start1":3143,"start2":3143,"length1":18,"length2":13},{"diffs":[[0,"ocument,"],[1," "],[0,"function"]],"start1":3194,"start2":3194,"length1":16,"length2":17},{"diffs":[[0,"t);\n"],[-1,"    "],[0,"\n"],[1," "],[0,"   v"]],"start1":3470,"start2":3470,"length1":13,"length2":10},{"diffs":[[0,"d = 123;"],[-1," \n   \n   "],[1,"\n\n"],[0,"\n    doc"]],"start1":3492,"start2":3492,"length1":25,"length2":18},{"diffs":[[0,"umentId,"],[1," "],[0,"function"]],"start1":3543,"start2":3543,"length1":16,"length2":17},{"diffs":[[0,"document) {\n"],[1," "],[0,"       if (e"]],"start1":3568,"start2":3568,"length1":24,"length2":25},{"diffs":[[0,"t');\n       "],[1," "],[0,"else res.sen"]],"start1":3636,"start2":3636,"length1":24,"length2":25},{"diffs":[[0,"ument);\n"],[1," "],[0,"   })\n})"]],"start1":3666,"start2":3666,"length1":16,"length2":17}]],"length":3887,"saved":false}
{"contributors":[],"silentsave":false,"ts":1352952788556,"patch":[[{"diffs":[[0,"end("],[-1,"'was not able to create document'"],[1,"  if (typeof documentInformation.Id != 'Number') {\n            callback('id is not of number');\n            return;\n\n        }"],[0,");\n "]],"start1":3245,"start2":3245,"length1":41,"length2":134}]],"length":3980,"saved":false}
{"ts":1352952790810,"patch":[[{"diffs":[[0,"end("],[-1,"  if (typeof documentInformation.Id != 'Number') {\n            callback('id is not of number');\n            return;\n\n        }"],[1,"error"],[0,");\n "]],"start1":3245,"start2":3245,"length1":134,"length2":13}]],"length":3859,"saved":false}
{"ts":1352952798881,"patch":[[{"diffs":[[0,"end("],[-1,"'was not able to get document'"],[1,"error"],[0,");\n "]],"start1":3576,"start2":3576,"length1":38,"length2":13}]],"length":3834,"saved":false}
{"contributors":[],"silentsave":false,"ts":1352953756707,"patch":[[{"diffs":[[0,"cument\n\n"],[1,"app.get('/DeleteAllDocument', function(req, res) {\n\n"],[0,"app.get("]],"start1":2846,"start2":2846,"length1":16,"length2":68}]],"length":3886,"saved":false}
{"ts":1352953759981,"patch":[[{"diffs":[[0,", res) {"],[1,"\n}"],[0,"\n\napp.ge"]],"start1":2896,"start2":2896,"length1":16,"length2":18}]],"length":3888,"saved":false}
{"ts":1352953782554,"patch":[[{"diffs":[[0,"t('/"],[-1,"D"],[1,"d"],[0,"elete"],[-1,"AllDocument', function(req, res) {\n}"],[1,"all', function(req, res) {\n    dataProvider.deleteall(collectionId, function(error, response) {\n        if (error) res.send('delete all failed');\n        else res.send(response);\n    });\n});"],[0,"\n\nap"]],"start1":2860,"start2":2860,"length1":50,"length2":204}]],"length":4042,"saved":false}
{"ts":1352953789917,"patch":[[{"diffs":[[0,"\n\napp.get('/"],[-1,"d"],[1,"D"],[0,"elete"],[-1,"a"],[1,"A"],[0,"ll"],[1,"Documents"],[0,"', function("]],"start1":2852,"start2":2852,"length1":33,"length2":42}]],"length":4051,"saved":false}
{"ts":1352953802838,"patch":[[{"diffs":[[0,"r.deleteall("],[-1,"collectionId"],[1,"'Mongo_Documents'"],[0,", function(e"]],"start1":2921,"start2":2921,"length1":36,"length2":41}]],"length":4056,"saved":false}
{"contributors":[],"silentsave":false,"ts":1353036121817,"patch":[[{"diffs":[[0,")\n});\n\n\n"],[1,"\n\n"],[0,"////////"]],"start1":2793,"start2":2793,"length1":16,"length2":18}]],"length":4058,"saved":false}
